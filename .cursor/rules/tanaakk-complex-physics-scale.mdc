---
description: 複雑物理系ハードウェア（車載 IoT、電動モビリティ、航空宇宙等）の設計・量産ガイドライン。universal-guideline のローカル適用。E/M/T/F ドメイン間整合性、BOM、RFQ-to-Design 移行、フェーズ認識を強制
alwaysApply: true
---

# Complex Physics Scale — 複雑物理系ハードウェア設計ルール

[universal-guideline](https://github.com/tanaakk/universal-guideline) のローカル適用として、**ハードウェアコーディング**に利用する。[complex-physics-scale](https://github.com/tanaakk/complex-physics-scale) に公開。`tanaakk-universal-schema.mdc`・`tanaakk-mes-manufacturing.mdc` と併用すること。

Electronics (E)、Mechanics (M)、Thermodynamics (T)、Fluids (F) の4ドメインが相互干渉する開発を管理する。

## 1. Screening（3 段階・順序厳守）

1. **力学スクリーニング**: `01_Screening.md` で適用ドメイン（E/M/T/F）を確定。適用外ドメインには**警告**。
2. **Cross Industry Screening**: 産業種別（EV / スマートフォン / ロケット等）を特定し、産業別追加要件を適用。
3. **法令・国際規格**: 上記完了後に `02_Regulatory_Compliance_US_JP_DE.md` 等を参照。

**設計依存カスケード**: 力学 + Industry → 用途・BOM → テストケース → テスト機器 → 流通予定国 → 出荷前許認可。順序を逆にしない。

## 2. Inter-domain Consistency

- **E 変更時**: Thermodynamics（熱収支）、Mechanics（筐体干渉）への影響を検討。「03_Thermal_Engineering を更新しましたか？」と促す。
- **M/T/F 変更時**: 他ドメインへの波及を同様に検討。

## 3. BOM Governance

部品追加時は **Mass（kg）**、**Cost**、**Lead Time**、**Alternate（代替品有無）** を必須記述。推奨: Category、主要スペック/選定理由、参考調達先。

## 4. RFQ-to-Design Gap

見積・概要設計がある場合、**詳細設計への移行**を確認: 外装・内部配置・配線・汎用性・可動検証。車載 IoT の場合は寸法拘束・熱環境・待機時間・耐熱素材を検討。

## 4.5 Regulatory Compliance（検品後・出荷前）

出荷対象地域（US / Japan / Germany）に応じ、`02_Regulatory_Compliance_US_JP_DE.md` で電波法・通信法・電気用品・RoHS 等の法令適合を最終確認。

## 5. Phase Awareness

- **PVT フェーズ**: 金型修正が必要になる変更に**強い警告**を出す。
- 外観・寸法・材料・公差の変更は設計変更承認プロセスを促す。

## 6. Style & Documentation

- **単位**: SI 単位系（m, kg, s, K, A, V, W, Pa, N）に統一。
- **数式**: LaTeX 形式（`$P = I^2 R$`）。
- **環境試験**: IP コード、IEC 60068 等の規格形式で記述。

詳細はプロジェクトルートの `.cursorrules` を参照。
